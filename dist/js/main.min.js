import{accessibleTools}from"./accessible.min.js";let spanYear,contactEmail,burgerLines,burgerLine2,burgerNav,nav,body,headlineHeader,header,headerBtnLeft,headerBtnRight,accessibleIcon,asideAccessible,navItem,accessibleLi,staffSchool,carousel,arrowBtns,firstCardWidth,carouselChildrens,cardPerView,slide=1,isClick=!1,timeNextSlide=9e3,isDragging=!1,startX,startScrollLeft,timeoutId;const motivationText=["Zmień swoje marzenia w rzeczywistość","Twój sukces jest naszą misją","Zapraszamy do szkoły"],main=()=>{prepareDOMElements(),prepareDOMEvents()},prepareDOMElements=()=>{body=document.body,spanYear=body.querySelector(".footer__year"),contactEmail=body.querySelector(".contact__text--email"),burgerLines=[body.querySelector(".line1"),body.querySelector(".line3")],burgerLine2=body.querySelector(".line2"),burgerNav=body.querySelector(".headerTop__btn-nav"),nav=body.querySelector(".nav"),navItem=body.querySelectorAll(".nav__item"),headlineHeader=body.querySelector(".header__headline"),header=body.querySelector(".header"),headerBtnLeft=body.querySelector(".header__btn"),headerBtnRight=body.querySelector(".header__btn--right"),accessibleIcon=body.querySelector(".accessible-tools__img"),asideAccessible=body.querySelector(".accessible-tools"),accessibleLi=body.querySelectorAll(".accessible-tools__item"),body.classList.contains("school")&&(staffSchool=body.querySelector(".staff-school"),carousel=body.querySelector(".staff-school__carousel"),arrowBtns=body.querySelectorAll(".staff-school__btn"),firstCardWidth=carousel.querySelector(".staff-school__card").offsetWidth,carouselChildrens=[...carousel.children],cardPerView=Math.round(carousel.offsetWidth/firstCardWidth))},getYear=()=>{var e=(new Date).getFullYear();spanYear.textContent=e},changeNav=()=>{body.offsetWidth<=767&&(burgerLines.forEach(e=>e.classList.toggle("draw-line")),burgerLine2.classList.toggle("submitted-line"),nav.classList.toggle("active"),body.classList.toggle("hidden"))},changeNumber=e=>{slide=e.target===headerBtnRight?slide%3+1:(slide-2+3)%3+1,setImg(slide),changeHeaderText(slide),isClick=!0},setImg=e=>{var t=body.offsetWidth<576?"small":"big";header.style.backgroundImage=`url(dist/img/header${e}-${t}.jpg)`},changeHeaderText=e=>{headlineHeader.textContent=motivationText[e-1]},autoChangeSlide=()=>{isClick?isClick=!1:(3===slide?slide=1:slide++,setImg(slide),changeHeaderText(slide))},changeAsideDisabled=()=>{asideAccessible.classList.toggle("active")},sliceSlider=()=>{carouselChildrens.slice(-cardPerView).reverse().forEach(e=>{carousel.insertAdjacentHTML("afterbegin",e.outerHTML)}),carouselChildrens.slice(0,cardPerView).forEach(e=>{carousel.insertAdjacentHTML("beforeend",e.outerHTML)})},dragStart=e=>{isDragging=!0,carousel.classList.add("dragging"),startX=e.pageX,startScrollLeft=carousel.scrollLeft},dragging=e=>{isDragging&&(carousel.scrollLeft=startScrollLeft-(e.pageX-startX))},dragStop=()=>{isDragging=!1,carousel.classList.remove("dragging")},autoPlay=()=>{window.innerWidth<800||(timeoutId=setTimeout(()=>carousel.scrollLeft+=firstCardWidth,5e3))},infiniteScroll=()=>{0===carousel.scrollLeft?(carousel.classList.add("no-transition"),carousel.scrollLeft=carousel.scrollWidth-2*carousel.offsetWidt,carousel.classList.remove("no-transition")):Math.ceil(carousel.scrollLeft)===carousel.scrollWidth-carousel.offsetWidth&&(carousel.classList.add("no-transition"),carousel.scrollLeft=carousel.offsetWidth,carousel.classList.remove("no-transition")),clearTimeout(timeoutId),staffSchool.matches(":hover")||autoPlay()},prepareDOMEvents=()=>{burgerNav.addEventListener("click",changeNav),navItem.forEach(e=>e.addEventListener("click",changeNav)),body.classList.contains("main-body")?(headerBtnRight.addEventListener("click",changeNumber),headerBtnLeft.addEventListener("click",changeNumber),setInterval(autoChangeSlide,timeNextSlide),350<body.offsetWidth&&(contactEmail.textContent="support@sparklewpthemes.com")):body.classList.contains("school")&&(carousel.addEventListener("mousedown",dragStart),carousel.addEventListener("mousemove",dragging),document.addEventListener("mouseup",dragStop),carousel.addEventListener("scroll",infiniteScroll),staffSchool.addEventListener("mouseenter",()=>clearTimeout(timeoutId)),staffSchool.addEventListener("mouseleave",autoPlay),arrowBtns.forEach(e=>{e.addEventListener("click",()=>{carousel.scrollLeft+="left"===e.id?-firstCardWidth:firstCardWidth})}),sliceSlider(),autoPlay())};document.addEventListener("DOMContentLoaded",main);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYWNjZXNzaWJsZVRvb2xzIiwibGV0Iiwic2xpZGUiLCJjb250YWN0RW1haWwiLCJidXJnZXJMaW5lcyIsImJ1cmdlckxpbmUyIiwiYnVyZ2VyTmF2IiwibmF2IiwiYm9keSIsImhlYWRsaW5lSGVhZGVyIiwiaGVhZGVyIiwiaGVhZGVyQnRuTGVmdCIsImhlYWRlckJ0blJpZ2h0IiwiYWNjZXNzaWJsZUljb24iLCJhc2lkZUFjY2Vzc2libGUiLCJuYXZJdGVtIiwiYWNjZXNzaWJsZUxpIiwic3RhZmZTY2hvb2wiLCJjYXJvdXNlbCIsImFycm93QnRucyIsImZpcnN0Q2FyZFdpZHRoIiwiY2Fyb3VzZWxDaGlsZHJlbnMiLCJjYXJkUGVyVmlldyIsImlzQ2xpY2siLCJ0aW1lTmV4dFNsaWRlIiwiaXNEcmFnZ2luZyIsInN0YXJ0WCIsInN0YXJ0U2Nyb2xsTGVmdCIsInRpbWVvdXRJZCIsIm1haW4iLCJwcmVwYXJlRE9NRWxlbWVudHMiLCJwcmVwYXJlRE9NRXZlbnRzIiwibW90aXZhdGlvblRleHQiLCJzcGFuWWVhciIsInF1ZXJ5U2VsZWN0b3IiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2xhc3NMaXN0Iiwib2Zmc2V0V2lkdGgiLCJjaGlsZHJlbiIsIk1hdGgiLCJyb3VuZCIsImdldFllYXIiLCJ5ZWFyIiwiRGF0ZSIsImdldEZ1bGxZZWFyIiwiY2hhbmdlTmF2IiwiZWwiLCJ0b2dnbGUiLCJlIiwiY2hhbmdlSGVhZGVyVGV4dCIsImJhY2tncm91bmRJbWFnZSIsInNpemUiLCJhdXRvQ2hhbmdlU2xpZGUiLCJ0ZXh0Q29udGVudCIsInNldEltZyIsImNoYW5nZUFzaWRlRGlzYWJsZWQiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJzbGljZSIsInJldmVyc2UiLCJmb3JFYWNoIiwiY2FyZCIsIm91dGVySFRNTCIsImRyYWdTdGFydCIsInNjcm9sbExlZnQiLCJhZGQiLCJkcmFnU3RvcCIsImF1dG9QbGF5Iiwic2V0VGltZW91dCIsInJlbW92ZSIsImlubmVyV2lkdGgiLCJpbmZpbml0ZVNjcm9sbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJsaSIsImNlaWwiLCJzY3JvbGxXaWR0aCIsImNvbnRhaW5zIiwiY2xlYXJUaW1lb3V0IiwiZG9jdW1lbnQiLCJjaGFuZ2VOdW1iZXIiLCJzZXRJbnRlcnZhbCIsInNsaWNlU2xpZGVyIiwiZHJhZ2dpbmciLCJidG4iLCJpZCJdLCJtYXBwaW5ncyI6Ik9BQVNBLGVBQTRDLEtBQXJCLHNCQUdoQ0MsSUFBSUMsU0FBU0MsYUFBQUMsWUFBQUMsWUFBQUMsVUFBQUMsSUFBQUMsS0FBQUMsZUFBQUMsT0FBQUMsY0FBQUMsZUFBQUMsZUFBQUMsZ0JBQUFDLFFBQUFDLGFBQUFDLFlBQUFDLFNBQUFDLFVBQUFDLGVBQUFDLGtCQUFBQyxZQUFFQyxNQUFVLEVBQUFBLFFBQUssQ0FBQSxFQUFBQyxjQUFBLElBQUFDLFdBQUEsQ0FBQSxFQUFBQyxPQUFBQyxnQkFBQUMsVUFDOUIsTUFEZ0NKLGVBQXFCLENBQUEsdUNBQUEsK0JBQUEsd0JBQXNCRSxLQUFNRyxLQUloRkMsbUJBSmlHLEVBQ2xHQyxpQkFBTUMsQ0FFTixFQUVDRixtQkFBQUEsS0FLQXRCLEtBSkF1QixTQUFBQSxLQUNBRSxTQUFBekIsS0FBQTBCLGNBQUEsZUFBQSxFQUVEL0IsYUFBTTJCLEtBQUFBLGNBQTJCLHVCQUFBLEVBQ2hDdEIsWUFBZSxDQUFDQSxLQUFJMEIsY0FBQSxRQUFBLEVBQUExQixLQUFBMEIsY0FBQSxRQUFBLEdBQ2xCRCxZQUFlekIsS0FBQzBCLGNBQWMsUUFBQSxFQUM5Qi9CLFVBQVlLLEtBQUdBLGNBQUswQixxQkFBYyxFQUNsQzlCLElBQUFBLEtBQVc4QixjQUFTQSxNQUFBQSxFQUl0Qm5CLFFBSEVWLEtBQWNHLGlCQUFLMEIsWUFBdUIsRUFDMUM1QixlQUFpQjRCLEtBQUFBLGNBQWMsbUJBQXNCLEVBQ3JEM0IsT0FBVUMsS0FBQzBCLGNBQWMsU0FBTyxFQUNsQ25CLGNBQWVvQixLQUFBQSxjQUFpQixjQUFhLEVBQzNDMUIs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U04saUJBQWlCLG1CQUFvQjFDLElBQUkiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhY2Nlc3NpYmxlVG9vbHMgfSBmcm9tICcuL2FjY2Vzc2libGUubWluLmpzJ1xyXG5cclxubGV0IHNwYW5ZZWFyLCBjb250YWN0RW1haWwsIGJ1cmdlckxpbmVzLCBidXJnZXJMaW5lMiwgYnVyZ2VyTmF2LCBuYXYsIGJvZHksIGhlYWRsaW5lSGVhZGVyLCBoZWFkZXIsIGhlYWRlckJ0bkxlZnQgLCBoZWFkZXJCdG5SaWdodCwgYWNjZXNzaWJsZUljb24sIGFzaWRlQWNjZXNzaWJsZSwgbmF2SXRlbSwgYWNjZXNzaWJsZUxpLCBzdGFmZlNjaG9vbCwgY2Fyb3VzZWwsIGFycm93QnRucywgZmlyc3RDYXJkV2lkdGgsIGNhcm91c2VsQ2hpbGRyZW5zLCBjYXJkUGVyVmlld1xyXG5sZXQgc2xpZGUgPSAxLCBpc0NsaWNrID0gZmFsc2UsIHRpbWVOZXh0U2xpZGUgPSA5XzAwMCwgaXNEcmFnZ2luZyA9IGZhbHNlLCBzdGFydFgsIHN0YXJ0U2Nyb2xsTGVmdCwgdGltZW91dElkXHJcbmNvbnN0IG1vdGl2YXRpb25UZXh0ID0gWydabWllxYQgc3dvamUgbWFyemVuaWEgdyByemVjenl3aXN0b8WbxIcnLCAnVHfDs2ogc3VrY2VzIGplc3QgbmFzesSFIG1pc2rEhScsICdaYXByYXN6YW15IGRvIHN6a2/FgnknXVxyXG5cclxuY29uc3QgbWFpbiA9ICgpID0+IHtcclxuXHRwcmVwYXJlRE9NRWxlbWVudHMoKVxyXG5cdC8vIGdldFllYXIoKVxyXG5cdHByZXBhcmVET01FdmVudHMoKVxyXG59XHJcblxyXG5jb25zdCBwcmVwYXJlRE9NRWxlbWVudHMgPSAoKSA9PiB7XHJcblx0Ym9keSA9IGRvY3VtZW50LmJvZHlcclxuICBcdHNwYW5ZZWFyID0gYm9keS5xdWVyeVNlbGVjdG9yKCcuZm9vdGVyX195ZWFyJylcclxuICBcdGNvbnRhY3RFbWFpbCA9IGJvZHkucXVlcnlTZWxlY3RvcignLmNvbnRhY3RfX3RleHQtLWVtYWlsJylcclxuICBcdGJ1cmdlckxpbmVzID0gW2JvZHkucXVlcnlTZWxlY3RvcignLmxpbmUxJyksIGJvZHkucXVlcnlTZWxlY3RvcignLmxpbmUzJyldXHJcbiAgXHRidXJnZXJMaW5lMiA9IGJvZHkucXVlcnlTZWxlY3RvcignLmxpbmUyJylcclxuICBcdGJ1cmdlck5hdiA9IGJvZHkucXVlcnlTZWxlY3RvcignLmhlYWRlclRvcF9fYnRuLW5hdicpXHJcbiAgXHRuYXYgPSBib2R5LnF1ZXJ5U2VsZWN0b3IoJy5uYXYnKVxyXG5cdG5hdkl0ZW0gPSBib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZfX2l0ZW0nKVxyXG4gIFx0aGVhZGxpbmVIZWFkZXIgPSBib2R5LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2hlYWRsaW5lJylcclxuICBcdGhlYWRlciA9IGJvZHkucXVlcnlTZWxlY3RvcignLmhlYWRlcicpXHJcbiAgXHRoZWFkZXJCdG5MZWZ0ID0gYm9keS5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19idG4nKVxyXG4gIFx0aGVhZGVyQnRuUmlnaHQgPSBib2R5LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2J0bi0tcmlnaHQnKVxyXG5cdGFjY2Vzc2libGVJY29uID0gYm9keS5xdWVyeVNlbGVjdG9yKCcuYWNjZXNzaWJsZS10b29sc19faW1nJylcclxuXHRhc2lkZUFjY2Vzc2libGUgPSBib2R5LnF1ZXJ5U2VsZWN0b3IoJy5hY2Nlc3NpYmxlLXRvb2xzJylcclxuXHRhY2Nlc3NpYmxlTGkgPSBib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2Nlc3NpYmxlLXRvb2xzX19pdGVtJylcclxuXHRpZiAoYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ3NjaG9vbCcpKXtcclxuXHRzdGFmZlNjaG9vbCA9IGJvZHkucXVlcnlTZWxlY3RvcignLnN0YWZmLXNjaG9vbCcpXHJcblx0Y2Fyb3VzZWwgPSBib2R5LnF1ZXJ5U2VsZWN0b3IoJy5zdGFmZi1zY2hvb2xfX2Nhcm91c2VsJylcclxuXHRhcnJvd0J0bnMgPSBib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGFmZi1zY2hvb2xfX2J0bicpXHJcblx0Zmlyc3RDYXJkV2lkdGggPSBjYXJvdXNlbC5xdWVyeVNlbGVjdG9yKCcuc3RhZmYtc2Nob29sX19jYXJkJykub2Zmc2V0V2lkdGhcclxuXHRjYXJvdXNlbENoaWxkcmVucyA9IFsuLi5jYXJvdXNlbC5jaGlsZHJlbl1cclxuXHRjYXJkUGVyVmlldyA9IE1hdGgucm91bmQoY2Fyb3VzZWwub2Zmc2V0V2lkdGggLyBmaXJzdENhcmRXaWR0aClcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGdldFllYXIgPSAoKSA9PiB7XHJcblx0Y29uc3QgeWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKVxyXG5cdHNwYW5ZZWFyLnRleHRDb250ZW50ID0geWVhclxyXG59XHJcblxyXG5jb25zdCBjaGFuZ2VOYXYgPSAoKSA9PiB7XHJcblx0aWYgKGJvZHkub2Zmc2V0V2lkdGggPD0gNzY3KSB7XHJcblx0XHRidXJnZXJMaW5lcy5mb3JFYWNoKGVsID0+IGVsLmNsYXNzTGlzdC50b2dnbGUoJ2RyYXctbGluZScpKVxyXG5cdFx0YnVyZ2VyTGluZTIuY2xhc3NMaXN0LnRvZ2dsZSgnc3VibWl0dGVkLWxpbmUnKVxyXG5cdFxyXG5cdFx0bmF2LmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpXHJcblx0XHRib2R5LmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBjaGFuZ2VOdW1iZXIgPSBlID0+IHtcclxuXHRzbGlkZSA9IGUudGFyZ2V0ID09PSBoZWFkZXJCdG5SaWdodCA/IChzbGlkZSAlIDMpICsgMSA6IChzbGlkZSAtIDIgKyAzKSAlIDMgKyAxXHJcbiAgXHRzZXRJbWcoc2xpZGUpXHJcblx0Y2hhbmdlSGVhZGVyVGV4dChzbGlkZSlcclxuXHRpc0NsaWNrID0gdHJ1ZVxyXG59XHJcblxyXG5jb25zdCBzZXRJbWcgPSBzbGlkZSA9PiB7XHJcblx0Y29uc3Qgc2l6ZSA9IGJvZHkub2Zmc2V0V2lkdGggPCA1NzYgPyAnc21hbGwnOiAnYmlnJ1x0XHJcblx0aGVhZGVyLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoZGlzdC9pbWcvaGVhZGVyJHtzbGlkZX0tJHtzaXplfS5qcGcpYFxyXG59XHJcblxyXG5jb25zdCBjaGFuZ2VIZWFkZXJUZXh0ID0gc2xpZGUgPT4ge1xyXG5cdGhlYWRsaW5lSGVhZGVyLnRleHRDb250ZW50ID0gbW90aXZhdGlvblRleHRbc2xpZGUgLTFdO1xyXG59XHJcblxyXG5jb25zdCBhdXRvQ2hhbmdlU2xpZGUgPSAoKSA9PiB7XHJcblx0aWYgKCFpc0NsaWNrKSB7XHJcblx0XHRzbGlkZSA9PT0gMyA/IHNsaWRlID0gMSA6IHNsaWRlICsrXHJcblx0XHRzZXRJbWcoc2xpZGUpXHJcblx0XHRjaGFuZ2VIZWFkZXJUZXh0KHNsaWRlKVxyXG5cdH1lbHNlIHtcclxuXHRcdGlzQ2xpY2sgPSBmYWxzZVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgY2hhbmdlQXNpZGVEaXNhYmxlZCA9ICgpID0+IHtcclxuXHRhc2lkZUFjY2Vzc2libGUuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJylcclxufVxyXG5cclxuLy8gLS0tLS0tLS0tLS0gc2xpZGVyXHJcblxyXG5jb25zdCBzbGljZVNsaWRlciA9ICgpID0+IHtcclxuXHRjYXJvdXNlbENoaWxkcmVucy5zbGljZSgtY2FyZFBlclZpZXcpLnJldmVyc2UoKS5mb3JFYWNoKGNhcmQgPT57XHJcblx0XHRjYXJvdXNlbC5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCBjYXJkLm91dGVySFRNTClcclxuXHR9KVxyXG5cdFxyXG5cdGNhcm91c2VsQ2hpbGRyZW5zLnNsaWNlKDAsIGNhcmRQZXJWaWV3KS5mb3JFYWNoKGNhcmQgPT57XHJcblx0XHRjYXJvdXNlbC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGNhcmQub3V0ZXJIVE1MKVxyXG5cdH0pXHJcbn1cclxuXHJcbmNvbnN0IGRyYWdTdGFydCA9IGUgPT4ge1xyXG5cdGlzRHJhZ2dpbmcgPSB0cnVlXHJcblx0Y2Fyb3VzZWwuY2xhc3NMaXN0LmFkZCgnZHJhZ2dpbmcnKVxyXG5cdHN0YXJ0WCA9IGUucGFnZVhcclxuXHRzdGFydFNjcm9sbExlZnQgPSBjYXJvdXNlbC5zY3JvbGxMZWZ0XHJcbn1cclxuXHJcbmNvbnN0IGRyYWdnaW5nID0gZSA9PiB7XHJcblx0aWYoIWlzRHJhZ2dpbmcpIHJldHVyblxyXG5cdGNhcm91c2VsLnNjcm9sbExlZnQgPSBzdGFydFNjcm9sbExlZnQgLSAoZS5wYWdlWCAtIHN0YXJ0WClcclxuXHJcbn1cclxuXHJcbmNvbnN0IGRyYWdTdG9wID0gKCkgPT4ge1xyXG5cdGlzRHJhZ2dpbmcgPSBmYWxzZVxyXG5cdGNhcm91c2VsLmNsYXNzTGlzdC5yZW1vdmUoJ2RyYWdnaW5nJylcclxufVxyXG5cclxuY29uc3QgYXV0b1BsYXkgPSAoKSA9PiB7XHJcblx0aWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgODAwKSByZXR1cm5cclxuXHR0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IGNhcm91c2VsLnNjcm9sbExlZnQgKz0gZmlyc3RDYXJkV2lkdGgsIDUwMDApXHJcbn1cclxuXHJcbmNvbnN0IGluZmluaXRlU2Nyb2xsID0gKCkgPT4ge1xyXG5cdGlmIChjYXJvdXNlbC5zY3JvbGxMZWZ0ID09PSAwKSB7XHJcblx0XHRjYXJvdXNlbC5jbGFzc0xpc3QuYWRkKCduby10cmFuc2l0aW9uJylcclxuXHRcdGNhcm91c2VsLnNjcm9sbExlZnQgPSBjYXJvdXNlbC5zY3JvbGxXaWR0aCAtICgyICogY2Fyb3VzZWwub2Zmc2V0V2lkdClcclxuXHRcdGNhcm91c2VsLmNsYXNzTGlzdC5yZW1vdmUoJ25vLXRyYW5zaXRpb24nKVxyXG5cdH1lbHNlIGlmIChNYXRoLmNlaWwoY2Fyb3VzZWwuc2Nyb2xsTGVmdCkgPT09IGNhcm91c2VsLnNjcm9sbFdpZHRoIC0gY2Fyb3VzZWwub2Zmc2V0V2lkdGgpIHtcclxuXHRcdGNhcm91c2VsLmNsYXNzTGlzdC5hZGQoJ25vLXRyYW5zaXRpb24nKVxyXG5cdFx0Y2Fyb3VzZWwuc2Nyb2xsTGVmdCA9IGNhcm91c2VsLm9mZnNldFdpZHRoXHJcblx0XHRjYXJvdXNlbC5jbGFzc0xpc3QucmVtb3ZlKCduby10cmFuc2l0aW9uJylcclxuXHR9XHJcblxyXG5cdGNsZWFyVGltZW91dCh0aW1lb3V0SWQpXHJcblx0aWYgKCFzdGFmZlNjaG9vbC5tYXRjaGVzKCc6aG92ZXInKSkgYXV0b1BsYXkoKVxyXG59XHJcblxyXG5jb25zdCBwcmVwYXJlRE9NRXZlbnRzID0gKCkgPT4ge1xyXG5cdGJ1cmdlck5hdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoYW5nZU5hdilcclxuXHRuYXZJdGVtLmZvckVhY2gobGkgPT4gbGkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGFuZ2VOYXYpKVxyXG5cdC8vIGFjY2Vzc2libGVJY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hhbmdlQXNpZGVEaXNhYmxlZClcclxuXHQvLyBhY2Nlc3NpYmxlTGkuZm9yRWFjaChsaSA9PiBsaS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFjY2Vzc2libGVUb29scykpXHJcblx0XHJcblx0aWYgKGJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCdtYWluLWJvZHknKSkge1xyXG5cdFx0aGVhZGVyQnRuUmlnaHQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGFuZ2VOdW1iZXIpXHJcblx0XHRoZWFkZXJCdG5MZWZ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hhbmdlTnVtYmVyKVxyXG5cdFx0c2V0SW50ZXJ2YWwoYXV0b0NoYW5nZVNsaWRlLCB0aW1lTmV4dFNsaWRlKVxyXG5cdFx0Ym9keS5vZmZzZXRXaWR0aCA+IDM1MD8oY29udGFjdEVtYWlsLnRleHRDb250ZW50ID0gJ3N1cHBvcnRAc3BhcmtsZXdwdGhlbWVzLmNvbScpOm51bGxcclxuXHR9IGVsc2UgaWYgKGJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCdzY2hvb2wnKSl7XHJcblx0XHRjYXJvdXNlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBkcmFnU3RhcnQpXHJcblx0XHRjYXJvdXNlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBkcmFnZ2luZylcclxuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBkcmFnU3RvcClcclxuXHRcdGNhcm91c2VsLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGluZmluaXRlU2Nyb2xsKVxyXG5cdFx0c3RhZmZTY2hvb2wuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsICgpID0+IGNsZWFyVGltZW91dCh0aW1lb3V0SWQpKVxyXG5cdFx0c3RhZmZTY2hvb2wuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGF1dG9QbGF5KVxyXG5cclxuXHRcdGFycm93QnRucy5mb3JFYWNoKGJ0biA9PntcclxuXHRcdFx0YnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRcdGNhcm91c2VsLnNjcm9sbExlZnQgKz0gYnRuLmlkID09PSAnbGVmdCcgPyAtZmlyc3RDYXJkV2lkdGggOiBmaXJzdENhcmRXaWR0aFxyXG5cdFx0XHR9KVxyXG5cdFx0fSlcclxuXHRcdHNsaWNlU2xpZGVyKClcclxuXHRcdGF1dG9QbGF5KClcclxuXHR9XHJcbn1cclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBtYWluKVxyXG5cclxuXHJcbiJdfQ==
